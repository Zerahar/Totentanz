(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{43:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),r=a(26),i=a.n(r),c=a(3),o=a(4),l=a(2),h=a(6),d=a(5),u=a(8),j=a(7),p=a(0);function b(){return Object(p.jsxs)("article",{children:[Object(p.jsx)("h3",{children:"Update 11/11/2021"}),Object(p.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in."})]})}var m=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("figure",{class:"front-image",alt:"Kuva mekaanikosta v\xe4rikk\xe4\xe4ss\xe4 valaistuksessa",loading:"lazy"}),Object(p.jsxs)("main",{class:"text-container front-container container",children:[Object(p.jsx)("h2",{children:"Home"}),Object(p.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),Object(p.jsxs)("div",{children:[Object(p.jsx)(b,{}),Object(p.jsx)(b,{})]})]})]})};var f=function(){return Object(p.jsxs)("main",{class:"text-container container",children:[Object(p.jsx)("h2",{children:"Info"}),Object(p.jsxs)("aside",{class:"info-box",children:[Object(p.jsx)("h3",{children:"Aikataulu"}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:"8:00 Paikka avautuu"}),Object(p.jsx)("li",{children:"10:00 Ilmoittautuminen"}),Object(p.jsx)("li",{children:"11:00 Peli-info"}),Object(p.jsx)("li",{children:"12:00 Peli alkaa"}),Object(p.jsx)("li",{children:"15:00 Artistin esiintyminen"}),Object(p.jsx)("li",{children:"17:00 Kasinoilta"}),Object(p.jsx)("li",{children:"21:00 P\xe4\xe4esiintyj\xe4"})]})]}),Object(p.jsx)("p",{children:'Cyberpunk is a subgenre of science fiction in a dystopian futuristic setting that tends to focus on a "combination of lowlife and high tech"[1] featuring advanced technological and scientific achievements, such as artificial intelligence and cybernetics, juxtaposed with a degree of breakdown or radical change in the social order.[2] Much of cyberpunk is rooted in the New Wave science fiction movement of the 1960s and 1970s, when writers like Philip K. Dick, Roger Zelazny, John Brunner, J. G. Ballard, Philip Jos\xe9 Farmer and Harlan Ellison examined the impact of drug culture, technology, and the sexual revolution while avoiding the utopian tendencies of earlier science fiction.'}),Object(p.jsx)("p",{children:"Comics exploring cyberpunk themes began appearing as early as Judge Dredd, first published in 1977.[3] Released in 1984, William Gibson's influential debut novel Neuromancer would help solidify cyberpunk as a genre, drawing influence from punk subculture and early hacker culture. Other influential cyberpunk writers included Bruce Sterling and Rudy Rucker. The Japanese cyberpunk subgenre began in 1982 with the debut of Katsuhiro Otomo's manga series Akira, with its 1988 anime film adaptation later popularizing the subgenre."}),Object(p.jsx)("h3",{children:"Peliohjeet"}),Object(p.jsx)("p",{children:"Early films in the genre include Ridley Scott's 1982 film Blade Runner, one of several of Philip K. Dick's works that have been adapted into films. The films Johnny Mnemonic (1995)[4] and New Rose Hotel (1998),[5][6] both based upon short stories by William Gibson, flopped commercially and critically. The Matrix trilogy (1999\u20132003) were some of the most successful cyberpunk films. Newer cyberpunk media includes Blade Runner 2049 (2017), a sequel to the original 1982 film, as well as Upgrade (2018), Alita: Battle Angel (2019) based on the 1990s Japanese manga Battle Angel Alita, the 2018 Netflix TV series Altered Carbon based on Richard K. Morgan's 2002 novel of the same name, and the video game Cyberpunk 2077 (2020), based on the table-top role-playing game Cyberpunk. "})]})},g=a(16),O=a(18),x=(a(34),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).editCharacter=s.editCharacter.bind(Object(l.a)(s)),s.deleteCharacter=s.deleteCharacter.bind(Object(l.a)(s)),s.editUser=s.editUser.bind(Object(l.a)(s)),s.deleteUser=s.deleteUser.bind(Object(l.a)(s)),s.success=s.success.bind(Object(l.a)(s)),s}return Object(o.a)(a,[{key:"editCharacter",value:function(e){this.props.changeCharacter(this.props.characters.find((function(t){return t._id===e.target.id})))}},{key:"editUser",value:function(e){this.props.changeUser(e.target.id)}},{key:"deleteUser",value:function(e){var t=this,a=this.props.players.find((function(t){return t._id===e.target.id}));window.confirm("Haluatko varmasti poistaa k\xe4ytt\xe4j\xe4n "+a.userName+"?")&&fetch("http://localhost:3002/user/delete/"+e.target.id).then((function(e){return e.json()})).then((function(e){return 1===e.ok?t.success():t.props.error("K\xe4ytt\xe4j\xe4n poisto ei onnistunut.")})).catch((function(e){return t.props.error(e,"danger")}))}},{key:"success",value:function(){this.props.error("Poisto onnistui!","success"),this.props.fetchCharacters(),this.props.fetchPlayers()}},{key:"deleteCharacter",value:function(e){var t=this,a=this.props.characters.find((function(t){return t._id===e.target.id}));window.confirm("Haluatko varmasti poistaa hahmon "+a.name+"?")&&fetch("http://localhost:3002/character/delete/"+e.target.id).then((function(e){return e.json()})).then((function(e){return 1===e.ok?t.success():t.props.error("K\xe4ytt\xe4j\xe4n poisto ei onnistunut.")})).catch((function(e){return t.props.error(e,"danger")}))}},{key:"componentDidMount",value:function(){this.props.fetchCharacters(),this.props.fetchPlayers()}},{key:"render",value:function(){var e=this,t=function(e,t){if(!t)return"-";try{return e.find((function(e){return e._id===t})).name}catch(a){return"-"}},a=function(e,t){if(!t)return"-";try{return e.find((function(e){return e._id===t})).userName}catch(a){return"-"}},s=this.props.characters.map((function(t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:t.name}),Object(p.jsx)("td",{children:a(e.props.players,t.player)}),Object(p.jsxs)("td",{class:"table-operations",children:[Object(p.jsx)(j.b,{id:t._id,onClick:e.editCharacter,to:"admin/newCharacter",class:"btn btn-primary flex-fill m-2 w-100",children:"Muokkaa"}),Object(p.jsx)("button",{id:t._id,onClick:e.deleteCharacter,class:"btn btn-danger flex-fill m-2 w-100",children:"Poista"})]})]},t._id)})),n=null;return this.props.players&&(n=this.props.players.map((function(a){return"player"===a.userType?Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:a.userName}),Object(p.jsx)("td",{children:t(e.props.characters,a.character)}),Object(p.jsx)("td",{children:a.login}),Object(p.jsxs)("td",{class:"table-operations",children:[Object(p.jsx)(j.b,{id:a._id,onClick:e.editUser,to:"admin/newUser",class:"btn btn-primary flex-fill m-2 w-100",children:"Muokkaa"}),Object(p.jsx)("button",{id:a._id,onClick:e.deleteUser,class:"btn btn-danger flex-fill m-2 w-100",children:"Poista"})]})]},a._id):null}))),"admin"===this.props.admin?Object(p.jsxs)("main",{class:"text-container container",children:[Object(p.jsxs)("nav",{class:"nav justify-content-center",children:[Object(p.jsx)(j.b,{to:"admin/transactions",class:"nav-item",children:"Maksutapahtumat"}),Object(p.jsx)(j.b,{to:"admin/messages",class:"nav-item",children:"Keskustelut"}),Object(p.jsx)(j.b,{to:"admin/newUser",class:"nav-item",children:"Uusi k\xe4ytt\xe4j\xe4"}),Object(p.jsx)(j.b,{to:"admin/newCharacter",class:"nav-item",children:"Uusi hahmo"})]}),Object(p.jsx)("h2",{children:"Hahmot"}),Object(p.jsxs)("table",{class:"table table-dark w-100",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Nimi"}),Object(p.jsx)("th",{children:"Pelaaja"}),Object(p.jsx)("th",{class:"w-25",children:"Operaatiot"})]})}),Object(p.jsx)("tbody",{children:s})]}),Object(p.jsx)("h2",{children:"Pelaajat"}),Object(p.jsxs)("table",{class:"table table-dark w-100",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Oikea nimi"}),Object(p.jsx)("th",{children:"Hahmon nimi"}),Object(p.jsx)("th",{children:"Tunnus"}),Object(p.jsx)("th",{class:"w-25",children:"Operaatiot"})]})}),Object(p.jsx)("tbody",{children:n})]})]}):Object(p.jsx)("main",{class:"text-container container",children:Object(p.jsx)("p",{children:"Kirjaudu sis\xe4\xe4n n\xe4hd\xe4ksesi adminin ty\xf6kalut."})})}}]),a}(s.Component)),y=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).editor=null,s.state={something:""},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.editor=Object(O.init)({element:document.getElementById("editor-"+this.props.type),onChange:function(t){return e.props.changeEditor(t)},actions:["bold","underline","italic","heading1","heading2","ulist",{name:"erase",icon:"X",title:"Poista muotoilut",result:function(){if(window.getSelection().toString()){var e=window.getSelection().toString().split("\n").join("<br>");Object(O.exec)(O.formatBlock,"<div>"),document.execCommand("insertHTML",!1,"<div>"+e+"</div>")}else Object(O.exec)(O.formatBlock,"<div>")}}]}),this.editor.content.innerHTML=this.props.html}},{key:"render",value:function(){return Object(p.jsx)("div",{id:"editor-"+this.props.type,className:"pell"})}}]),a}(s.Component),v=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={name:s.props.character.name,age:s.props.character.age,gender:s.props.character.gender,player:s.props.character.player,saldo:s.props.character.saldo,description:s.props.character.description,mechanics:s.props.character.mechanics,plots:s.props.character.plots,redirect:"",newId:"",error:""},s.handleChange=s.handleChange.bind(Object(l.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(l.a)(s)),s.checkInput=s.checkInput.bind(Object(l.a)(s)),s.checkSuccess=s.checkSuccess.bind(Object(l.a)(s)),s}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,s=t.name;this.setState(Object(g.a)({},s,a))}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.checkInput()){var a,s=!1;this.props.character.player!==this.state.player&&this.state.player&&(s=!0),this.props.character.player&&this.props.character.player!==this.state.player&&(a=this.props.players.find((function(e){return e._id===t.props.character.player}))._id);var n=JSON.stringify({name:this.state.name.replace(/["=';]/g,""),age:this.state.age.replace(/[\D]/g,""),gender:this.state.gender.replace(/["=';]/g,""),player:this.state.player,saldo:parseFloat(this.state.saldo),description:this.state.description,mechanics:this.state.mechanics,plots:this.state.plots,newPlayer:s,oldPlayer:a}),r="http://localhost:3002/character/";this.props.character._id&&(r+=this.props.character._id),fetch(r,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:n}).then((function(e){return e.json()})).then((function(e){return t.checkSuccess(e)})).catch((function(e){return t.props.error(e,"danger")}))}}},{key:"checkSuccess",value:function(e){var t=this,a=!1;e.forEach((function(e,s){if(null!==e&&1!==e.ok)return t.props.error("Hahmon lis\xe4ys ei onnistunut."),void(a=!0)})),a||this.setState({redirect:Object(p.jsx)(u.a,{to:"/admin"})})}},{key:"checkInput",value:function(){var e=document.getElementById("characterForm");return e.classList.add("was-validated"),e.checkValidity()||this.props.error("Kentiss\xe4 oli virheit\xe4.",!0),e.checkValidity()}},{key:"componentDidMount",value:function(){0===this.props.players.length&&this.props.fetchPlayers()}},{key:"componentWillUnmount",value:function(){this.props.clearSelectedCharacter()}},{key:"render",value:function(){var e=this,t=this.props.players.map((function(e){return Object(p.jsx)("option",{value:e._id,children:e.userName},e._id)}));return Object(p.jsxs)("main",{class:"text-container container",children:[Object(p.jsxs)("form",{onSubmit:this.handleSubmit,noValidate:!0,id:"characterForm",children:[Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{class:"form-label",children:"Nimi:"}),Object(p.jsx)("input",{class:"form-control",maxLength:"30",required:!0,pattern:"[ .,\\-'a-\xf6A-\xd6\\d]*",type:"text",value:this.state.name,onChange:this.handleChange,name:"name"}),Object(p.jsx)("div",{class:"invalid-feedback",children:"Hahmolla t\xe4ytyy olla nimi, ja ainoat sallitut erikoismerkit ovat .,-' ja numerot."})]}),Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{class:"form-label",children:"Ik\xe4:"})," ",Object(p.jsx)("input",{class:"form-control",pattern:"[\\d]*",type:"text",value:this.state.age,onChange:this.handleChange,name:"age"}),Object(p.jsx)("div",{class:"invalid-feedback",children:"I\xe4n t\xe4ytyy olla numero."})]}),Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{class:"form-label",children:"Sukupuoli:"})," ",Object(p.jsx)("input",{class:"form-control",pattern:"[a-\xf6A-\xd6]*",type:"text",value:this.state.gender,onChange:this.handleChange,name:"gender"}),Object(p.jsx)("div",{class:"invalid-feedback",children:"Sukupuoli ei voi sis\xe4lt\xe4\xe4 numeroita tai erikoismerkkej\xe4."})]}),Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{class:"form-label",children:"Pelaaja:"})," ",Object(p.jsxs)("select",{class:"form-select",value:this.state.player,onChange:this.handleChange,name:"player",children:[Object(p.jsx)("option",{value:"",children:"-"}),t]})]}),Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{class:"form-label",children:"Saldo:"})," ",Object(p.jsx)("input",{class:"form-control",pattern:"^[\\d]+(,\\d\\d)*",type:"text",value:this.state.saldo,onChange:this.handleChange,name:"saldo"}),Object(p.jsx)("div",{class:"invalid-feedback",children:"Saldon t\xe4ytyy olla numero. Senttien erottimena k\xe4ytet\xe4\xe4n pilkkua."})]}),Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{class:"form-label",children:"Kuvaus: "}),Object(p.jsx)(y,{changeEditor:function(t){return e.setState({description:t})},html:this.state.description,type:"description"})]}),Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{class:"form-label",children:"Juonet: "}),Object(p.jsx)(y,{changeEditor:function(t){return e.setState({plots:t})},html:this.state.plots,type:"plots"})]}),Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{class:"form-label",children:"Pelimekaniikat: "}),Object(p.jsx)(y,{changeEditor:function(t){return e.setState({mechanics:t})},html:this.state.mechanics,type:"mechanics"})]}),Object(p.jsx)("button",{type:"submit",onClick:this.handleSubmit,class:"btn btn-primary",children:"Tallenna"}),Object(p.jsx)(j.b,{to:"/admin",class:"btn btn-warning m-3",children:"Poistu tallentamatta"})]}),this.state.redirect]})}}]),a}(s.Component),k=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={login:"",playerName:"",selectedCharacter:"",isLoaded:!0,redirect:""},s.handleChange=s.handleChange.bind(Object(l.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(l.a)(s)),s.validateForm=s.validateForm.bind(Object(l.a)(s)),s}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,s=t.name;this.setState(Object(g.a)({},s,a))}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.validateForm()){var a={login:this.state.login.replace(/["=';]/g,""),userName:this.state.playerName.replace(/["=';]/g,""),character:this.state.selectedCharacter,userType:"player"},s="http://localhost:3002/user/";this.props.existingUser&&(s+=this.props.existingUser._id),fetch(s,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return t.setState({redirect:Object(p.jsx)(u.a,{to:"/admin"})})})).catch((function(e){return t.props.error(e,"danger")}))}}},{key:"validateForm",value:function(){var e=document.getElementById("userForm");return e.classList.add("was-validated"),e.checkValidity()}},{key:"fillFields",value:function(){this.setState({login:this.props.existingUser.login,playerName:this.props.existingUser.userName,selectedCharacter:this.props.existingUser.character})}},{key:"componentDidMount",value:function(){this.props.existingUser&&this.fillFields()}},{key:"componentWillUnmount",value:function(){this.props.clearSelectedUser()}},{key:"render",value:function(){var e=this.props.characters.map((function(e){return Object(p.jsx)("option",{value:e._id,children:e.name},e._id)}));return Object(p.jsxs)("main",{class:"text-container container",children:[Object(p.jsxs)("form",{onSubmit:this.handleSubmit,noValidate:!0,id:"userForm",children:[Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{class:"form-label",children:"* Kirjautumistunnus"}),Object(p.jsx)("input",{minLength:"6",maxLength:"20",required:!0,pattern:"[a-\xf6A-\xd6\\d]*",id:"loginInput",class:"form-control",type:"text",name:"login",value:this.state.login,onChange:this.handleChange,placeholder:"K\xe4ytt\xe4j\xe4n kirjautumiseen k\xe4ytt\xe4m\xe4 tunnus"}),Object(p.jsx)("div",{class:"invalid-feedback",id:"loginFeedback",children:"Tarkista, ett\xe4 kirjautumistunnus on v\xe4hint\xe4\xe4n 6 merkki\xe4 pitk\xe4 ja sis\xe4lt\xe4\xe4 ainoastaan kirjaimia ja numeroita."})]}),Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{class:"form-label",children:"* Pelaajan nimi"}),Object(p.jsx)("input",{minLength:"3",maxLength:"30",required:!0,pattern:"[ .,\\-'a-\xf6A-\xd6\\d]*",id:"nameInput",class:"form-control",type:"text",name:"playerName",value:this.state.playerName,onChange:this.handleChange}),Object(p.jsx)("div",{class:"invalid-feedback",id:"nameFeedback",children:"Nimi on pakollinen tieto ja se voi sis\xe4lt\xe4\xe4 ainoastaan kirjaimia ja seuraavia merkkej\xe4: ,.'-"})]}),Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{class:"form-label",children:"Hahmo"}),Object(p.jsxs)("select",{class:"form-select",name:"selectedCharacter",value:this.state.selectedCharacter,onChange:this.handleChange,children:[Object(p.jsx)("option",{value:"",children:"-"},"none"),e]})]}),Object(p.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Tallenna"}),Object(p.jsx)(j.b,{to:"/admin",class:"btn btn-warning m-3",children:"Poistu tallentamatta"})]}),this.state.redirect]})}}]),a}(s.Component),C=x,S=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={name:"",age:"",gender:"",saldo:"",description:"Hahmon kuvaus",mechanics:"Pelimekaniikat",plots:"Juonet"},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.character&&(this.setState({name:this.props.character.name}),this.setState({age:this.props.character.age}),this.setState({gender:this.props.character.gender}),this.setState({saldo:this.props.character.saldo}),this.setState({description:this.props.character.description}),this.setState({plots:this.props.character.plots}),this.setState({mechanics:this.props.character.mechanics}))}},{key:"render",value:function(){return Object(p.jsxs)("main",{class:"text-container container",children:[Object(p.jsx)("h2",{children:"Info"}),Object(p.jsxs)("ul",{children:[Object(p.jsxs)("li",{children:["Nimi: ",this.state.name]}),Object(p.jsxs)("li",{children:["Ik\xe4: ",this.state.age]}),Object(p.jsxs)("li",{children:["Sukupuoli: ",this.state.gender]}),Object(p.jsxs)("li",{children:["Saldo: ",this.state.saldo]})]}),Object(p.jsx)("h3",{children:"Kuvaus"}),Object(p.jsx)("div",{dangerouslySetInnerHTML:{__html:this.state.description}}),Object(p.jsx)("h3",{children:"Juonet"}),Object(p.jsx)("div",{dangerouslySetInnerHTML:{__html:this.state.plots}}),Object(p.jsx)("h3",{children:"Pelimekaniikat"}),Object(p.jsx)("div",{dangerouslySetInnerHTML:{__html:this.state.mechanics}})]})}}]),a}(s.Component),w=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={amount:0,selectedCharacter:"",redirect:""},s.submit=s.submit.bind(Object(l.a)(s)),s.handleChange=s.handleChange.bind(Object(l.a)(s)),s.checkSuccess=s.checkSuccess.bind(Object(l.a)(s)),s}return Object(o.a)(a,[{key:"submit",value:function(e){var t=this;if(e.preventDefault(),this.state.amount<0)this.setState({warning:"Virheellinen summa"});else if(this.state.amount>this.props.character.saldo)this.setState({warning:"Tilill\xe4si ei ole tarpeeksi saldoa"});else if(this.state.selectedCharacter){if(window.confirm("Haluatko maksaa "+this.state.amount+" eurodollaria kohteelle "+this.props.characters.find((function(e){return e._id===t.state.selectedCharacter})).name+"?")){this.props.isReady(!1);var a=JSON.stringify({time:Date.now(),user:this.props.character._id,recipient:this.state.selectedCharacter,amount:this.state.amount});fetch("http://localhost:3002/pay/",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:a}).then((function(e){return e.json()})).then((function(e){return t.checkSuccess(e)})).catch((function(e){return t.props.error(e,"danger")}))}}else this.setState({warning:"Valitse maksun saaja"})}},{key:"handleChange",value:function(e){var t=e.target,a=t.value,s=t.name;this.setState(Object(g.a)({},s,a))}},{key:"checkSuccess",value:function(e){var t=this;this.props.isReady(!0),e.forEach((function(a,s){1===a.ok?2===s&&(t.props.fetchCharacters(),t.setState({amount:0,selectedCharacter:""}),t.props.error("Maksu onnistui!","success")):t.setState({warning:e.statusText})}))}},{key:"componentWillMount",value:function(){this.props.character||this.setState({redirect:Object(p.jsx)(u.a,{to:"/dashboard"})})}},{key:"render",value:function(){var e=this,t=this.props.characters.map((function(t){return t._id!==e.props.character._id?Object(p.jsx)("option",{value:t._id,children:t.name}):null})),a="???";return this.props.character&&this.props.character.saldo&&(a=this.props.character.saldo),Object(p.jsxs)("main",{class:"text-container container",children:[this.state.redirect,Object(p.jsx)("h2",{children:"Pay"}),this.state.success,Object(p.jsxs)("p",{children:["Sinulla on ",Object(p.jsx)("strong",{children:a})," eurodollaria."]}),Object(p.jsxs)("form",{onSubmit:this.submit,children:[Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{class:"form-label",children:"Vastaanottaja"}),Object(p.jsxs)("select",{class:"form-select",name:"selectedCharacter",value:this.state.selectedCharacter,onChange:this.handleChange,children:[Object(p.jsx)("option",{value:"",children:"-"}),t]})]}),Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{class:"form-label",children:"Summa"}),Object(p.jsx)("input",{class:"form-control",name:"amount",required:!0,value:this.state.amount,onChange:this.handleChange})]}),Object(p.jsx)("span",{children:this.state.warning}),Object(p.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Maksa"})]})]})}}]),a}(s.Component),_=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchCharacters()}},{key:"render",value:function(){var e=Object(p.jsx)("p",{children:"Kirjaudu sis\xe4\xe4n n\xe4hd\xe4ksesi hahmotietosi"});return"player"!==this.props.userType||this.props.loggedCharacter?this.props.loggedCharacter&&(e=Object(p.jsxs)("div",{class:"d-flex player-controls",children:[Object(p.jsx)("div",{class:"flex-fill d-flex p-3",children:Object(p.jsx)(j.b,{to:"dashboard/pay",class:"btn btn-primary flex-fill fs-5",children:"Maksa"})}),Object(p.jsx)("div",{class:"flex-fill d-flex p-3",children:Object(p.jsx)(j.b,{to:"dashboard/info",class:"btn btn-primary flex-fill fs-5",children:"Info"})}),Object(p.jsx)("div",{class:"flex-fill d-flex p-3",children:Object(p.jsx)(j.b,{to:"dashboard/chat",class:"btn btn-primary flex-fill fs-5",children:"Viestit"})})]})):e=Object(p.jsx)("p",{children:"Sinulle ei ole viel\xe4 annettu hahmoa. Yrit\xe4 uudelleen my\xf6hemmin tai ota yhteys pelinjohtoon."}),Object(p.jsxs)("main",{class:"text-container container",children:[Object(p.jsx)("h2",{children:"Omat tiedot"}),e]})}}]),a}(s.Component),M=a(11),T=a(48),I=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={chats:[],mode:"",isLoaded:!1,error:"",selectedCharacters:[],selectedChat:"",warning:""},s.handleChange=s.handleChange.bind(Object(l.a)(s)),s.createChat=s.createChat.bind(Object(l.a)(s)),s.fetchChats=s.fetchChats.bind(Object(l.a)(s)),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchChats()}},{key:"fetchChats",value:function(){var e=this,t="http://localhost:3002/chat/";this.props.loggedCharacter&&(t+=this.props.loggedCharacter),this.props.loggedCharacter||"admin"===this.props.type?(this.props.isReady(!1),fetch(t).then((function(e){return e.json()})).then((function(t){t.forEach((function(t){var a=[];t.participants.forEach((function(t){return a.push({_id:t,name:e.props.characters.find((function(e){return e._id==t})).name})})),t.participants=a})),e.setState({chats:t,isLoaded:!0}),e.props.isReady(!0)})).catch((function(t){return e.props.error(t,"danger")}))):"guest"===this.props.type?this.setState({warning:"Kirjaudu sis\xe4\xe4n n\xe4hd\xe4ksesi keskustelut."}):this.setState({warning:"Sinulle ei ole asetettu omaa hahmoa. Ota yhteytt\xe4 pelinjohtoon."})}},{key:"handleChange",value:function(e){var t=this;if(e.target.checked)this.setState((function(a){return{selectedCharacters:[].concat(Object(M.a)(a.selectedCharacters),[t.props.characters.find((function(t){return t._id===e.target.name}))])}}));else{var a=this.state.selectedCharacters.filter((function(t){return t._id!==e.target.name}));this.setState({selectedCharacters:a})}}},{key:"createChat",value:function(){var e=this,t=this.props.characters.find((function(t){return t._id===e.props.loggedCharacter})),a=[];t&&(a=[t._id]),this.state.selectedCharacters.map((function(e){return a.push(e._id)}));var s=JSON.stringify({participants:a});fetch("http://localhost:3002/chat/",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:s}).then((function(e){return e.json()})).then((function(t){return 1===t.ok?e.fetchChats():e.props.error("Chatin luonti ei onnistunut.")})).catch((function(t){return e.props.error(t,"danger")})),this.setState({mode:"",selectedCharacters:[]})}},{key:"removeChat",value:function(e){var t=this;console.log(e),window.confirm("Haluatko poistaa keskustelun, jossa j\xe4senin\xe4 ovat "+e.participants.map((function(e){return e.name}))+"?")&&fetch("http://localhost:3002/chat/delete/"+e._id,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return 1===e.ok?t.fetchChats():t.props.error("Chatin poisto ei onnistunut.")})).catch((function(e){return t.props.error(e,"danger")}))}},{key:"render",value:function(){var e=this,t=this.props.characters.filter((function(t){return t._id!==e.props.loggedCharacter})).map((function(t){return Object(p.jsxs)("div",{class:"row",children:[Object(p.jsx)("div",{class:"col-auto",children:Object(p.jsx)("input",{type:"checkbox",class:"form-check-input",name:t._id,onChange:e.handleChange})}),Object(p.jsx)("div",{class:"col-auto",children:Object(p.jsx)("label",{class:"form-check-label",children:t.name})})]})})),a=this.state.chats.map((function(t){return Object(p.jsxs)("li",{class:"list-group-item chat-list-item d-flex justify-content-between",children:[Object(p.jsx)(j.b,{id:t._id,to:"/chat",onClick:function(){return e.props.changeChat(t)},children:t.participants.filter((function(t){return t._id!=e.props.loggedCharacter})).map((function(e,t,a){return t===a.length-1?e.name:e.name+", "}))}),"admin"==e.props.type?Object(p.jsx)("button",{class:"btn btn-danger",onClick:function(){return e.removeChat(t)},children:Object(p.jsx)(T.a,{})}):""]})}));return"new"===this.state.mode?Object(p.jsxs)("main",{class:"text-container container",children:[Object(p.jsx)("h2",{children:"Valitse keskustelun j\xe4senet"}),t,Object(p.jsx)("br",{}),Object(p.jsx)("button",{onClick:this.createChat,class:"btn btn-primary",children:"Luo keskustelu"})]}):Object(p.jsxs)("main",{class:"text-container container",children:[Object(p.jsx)("h2",{children:"Keskustelut"}),Object(p.jsx)("p",{children:this.state.warning}),Object(p.jsx)("button",{onClick:function(){return e.setState({mode:"new"})},class:"btn btn-primary",children:"Uusi keskustelu"}),Object(p.jsx)("br",{}),Object(p.jsx)("ul",{class:"list-group chat-list",children:a})]})}}]),a}(s.Component),N=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={history:[]},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.isReady(!1),0===this.props.characters.length&&this.props.fetchCharacters(),fetch("http://localhost:3002/transaction/").then((function(e){return e.json()})).then((function(t){e.setState({history:t}),e.props.isReady(!0)})).catch((function(t){return e.props.error(t,"danger")}))}},{key:"render",value:function(){var e=this,t=this.state.history.map((function(t){var a=e.props.characters.find((function(e){return e._id===t.user})),s=e.props.characters.find((function(e){return e._id===t.recipient}));return a=a?a.name:"",s=s?s.name:"",Object(p.jsxs)("tr",{id:t._id,children:[Object(p.jsx)("td",{children:a}),Object(p.jsx)("td",{children:s}),Object(p.jsx)("td",{children:t.amount}),Object(p.jsx)("td",{children:new Date(t.time).toLocaleString("fi-FI")})]})}));return Object(p.jsxs)("main",{class:"text-container container",children:[Object(p.jsx)("h2",{children:"Maksutapahtumat"}),Object(p.jsxs)("table",{class:"table transactions-table",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Maksaja"}),Object(p.jsx)("th",{children:"Kohde"}),Object(p.jsx)("th",{children:"Summa"}),Object(p.jsx)("th",{children:"Aika"})]})}),Object(p.jsx)("tbody",{children:t})]})]})}}]),a}(s.Component),E=a(49),P=a(50),U=a(25),L=(a(43),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={input:"",nameSent:!1,history:[],ready:!1,chat:"",currentName:s.props.name,redirect:"",noMessages:!1},s.sendMessage=s.sendMessage.bind(Object(l.a)(s)),s.messageBeingWritten=s.messageBeingWritten.bind(Object(l.a)(s)),s.addMessage=s.addMessage.bind(Object(l.a)(s)),window.WebSocket=window.WebSocket||window.MozWebSocket,window.WebSocket||s.props.error(new Error("Selain ei tue chat-teknologiaa")),s.ws=s.props.ws,s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.chat?(this.props.isReady(!1),this.state.currentName||this.setState({currentName:this.props.characters.find((function(t){return t._id===e.props.characterId})).name}),this.ws.send(JSON.stringify({chat:this.props.chat._id,type:"openChat"})),this.ws.onmessage=function(t){var a=JSON.parse(t.data);if("message"===a.type){var s={time:new Date(a.data.time).toLocaleString("fi-FI",{timeStyle:"short",dateStyle:"medium"}),text:a.data.text,author:a.data.author,authorId:a.data.authorId};e.setState((function(e){return{history:[].concat(Object(M.a)(e.history),[s]),noMessages:!1}}),(function(){return document.getElementById("message-container").scrollTop=document.getElementById("message-container").scrollHeight,null}))}"history"===a.type&&(0===a.data.length?e.setState({noMessages:!0}):(a.data.map((function(t){return e.setState((function(e){return{history:[].concat(Object(M.a)(e.history),[{time:new Date(t.time).toLocaleString("fi-FI",{timeStyle:"short",dateStyle:"medium"}),text:t.text,author:t.author,authorId:t.authorId}])}}))})),document.getElementById("message-container").scrollTop=document.getElementById("message-container").scrollHeight),e.props.isReady(!0))}):this.setState({redirect:Object(p.jsx)(u.a,{to:"/"})})}},{key:"addMessage",value:function(e){e&&this.setState((function(t){return{history:[].concat(Object(M.a)(t.history),[e])}}))}},{key:"sendMessage",value:function(e){e.preventDefault();var t=document.getElementById("msgForm");t.classList.add("was-validated"),t.checkValidity()&&(console.log("Sent ",this.state.input),this.ws.send(JSON.stringify({text:this.state.input,chat:this.props.chat,characterId:this.props.characterId,name:this.state.currentName,type:"message"})),this.setState({input:""}))}},{key:"messageBeingWritten",value:function(e){this.setState({input:e.target.value})}},{key:"componentWillUnmount",value:function(){this.props.clear()}},{key:"render",value:function(){var e=this,t="";0!==this.state.history.length&&(t=this.state.history.map((function(t){return Object(p.jsxs)("div",{class:t.author===e.state.currentName?"toast show my-message w-75":"toast show mb-3 w-75",children:[Object(p.jsxs)("div",{class:"toast-header",children:[Object(p.jsx)("strong",{class:"me-auto",children:t.author}),Object(p.jsx)("small",{children:t.time})]}),Object(p.jsx)("div",{class:"toast-body",children:t.text})]},t._id)})));var a="";this.props.chat&&this.props.chat.participants&&(a=this.props.chat.participants.filter((function(t){return t._id!=e.props.characterId})).map((function(e,t,a){return t===a.length-1?e.name:e.name+", "})));var s="";return this.state.noMessages&&(s=Object(p.jsx)("p",{class:"text-center",children:"T\xe4ss\xe4 keskustelussa ei ole viel\xe4 viestej\xe4. L\xe4het\xe4 yksi!"})),Object(p.jsxs)("main",{class:"chat-container d-flex flex-column text-container container",children:[this.state.redirect,Object(p.jsx)("h2",{children:a}),Object(p.jsxs)("div",{class:"overflow-auto messages-container p-3 flex-grow-1",id:"message-container",children:[s,t]}),Object(p.jsx)("form",{onSubmit:this.sendMessage,noValidate:!0,id:"msgForm",children:Object(p.jsxs)("div",{class:"input-group",children:[Object(p.jsx)("input",{class:"form-control",type:"text",value:this.state.input,onChange:this.messageBeingWritten,id:"message-input",pattern:"[ .,\\-a-\xf6A-\xd6\\d]*"}),Object(p.jsx)("button",{class:"btn btn-primary",type:"submit",children:"L\xe4het\xe4"}),Object(p.jsx)("div",{class:"invalid-feedback",id:"messageFeedback",children:"Viesti voi sis\xe4lt\xe4\xe4 ainoastaan kirjaimia, numeroita ja seuraavia merkkej\xe4: ,.-"})]})})]})}}]),a}(a(1).Component)),R=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={userId:"",userName:"",login:"",userType:"guest",userCharacter:"",characters:[],selectedChat:"",nameSent:!1,ready:!1,notifMsg:"",notifSender:"",selectedCharacter:{name:"",age:"",gender:"",player:"",saldo:0,description:"",mechanics:"",plots:""},selectedUser:"",players:[],defaultCharacter:{name:"",age:"",gender:"",player:"",saldo:0,description:"",mechanics:"",plots:""},loading:!1},s.login=s.login.bind(Object(l.a)(s)),s.logout=s.logout.bind(Object(l.a)(s)),s.loginSuccess=s.loginSuccess.bind(Object(l.a)(s)),s.handleChange=s.handleChange.bind(Object(l.a)(s)),s.fetchCharacters=s.fetchCharacters.bind(Object(l.a)(s)),s.fetchPlayers=s.fetchPlayers.bind(Object(l.a)(s)),s.showError=s.showError.bind(Object(l.a)(s)),s.ws=null,s.closeMenu=s.closeMenu.bind(Object(l.a)(s)),s.setReady=s.setReady.bind(Object(l.a)(s)),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;decodeURIComponent(document.cookie).split(";").forEach((function(t){for(;" "===t.charAt(0);)t=t.substring(1);0!==t.indexOf("login")||e.setState({login:t.substring(6)},(function(){return e.login()}))})),this.fetchCharacters()}},{key:"fetchPlayers",value:function(){var e=this;console.log("Fetching players"),fetch("http://localhost:3002/user/").then((function(e){return e.json()})).then((function(e){return e.filter((function(e){return"player"==e.userType}))})).then((function(e){return e.sort((function(e,t){return e.userName>t.userName}))})).then((function(t){e.setState({players:t,loading:!1})})).catch((function(t){return e.showError(t,"danger")}))}},{key:"login",value:function(e){var t=this;e&&e.preventDefault(),this.state.login&&fetch("http://localhost:3002/user/"+this.state.login).then((function(e){e.ok?e.json().then((function(e){return t.loginSuccess(e)})):t.showError("Kirjautuminen ei onnistunut. Tarkista oikeinkirjoitus.","warning")})).catch((function(e){return t.showError(e,"danger")}))}},{key:"loginSuccess",value:function(e){var t=this;this.setState({userId:e._id,userName:e.userName,userType:e.userType,userCharacter:e.character,warning:""}),document.cookie="login="+this.state.login,"player"===e.userType?this.setState({redirect:Object(p.jsx)(u.a,{to:"/dashboard"})}):this.setState({redirect:Object(p.jsx)(u.a,{to:"/admin"})}),this.ws=new WebSocket("ws://127.0.0.1:1337"),this.ws.onclose=function(){console.log("disconnected")},this.ws.onmessage=function(e){var a=JSON.parse(e.data);if(console.log("Got a message: ",a),t.state.selectedChat!==a.data.chat){var s=new U.b(document.getElementById("notifToast"));t.setState({notifMsg:a.data.text,notifSender:a.data.author},s.show())}},this.ws.onopen=function(){console.log("connected");var e,a=t.state.characters.find((function(e){return e._id===t.state.userCharacter}));a?e=a.name:"admin"===t.state.userType?e="admin":(console.log("No character assigned, closing websocket"),t.ws.close()),e&&t.ws&&1===t.ws.readyState&&(t.ws.send(JSON.stringify({text:e,type:"new",id:t.state.userCharacter})),t.setState({nameSent:!0,ready:!0}))},this.ws.onerror=function(e){return t.showError(e,"danger")}}},{key:"logout",value:function(){this.setState({userId:"",userType:"guest",userCharacter:"",login:"",loading:!1,redirect:Object(p.jsx)(u.a,{to:"/"})}),document.cookie="login=",this.ws.close()}},{key:"handleChange",value:function(e){this.setState({login:e.target.value})}},{key:"fetchCharacters",value:function(){var e=this;console.log("Fetch characters"),fetch("http://localhost:3002/character/").then((function(e){return e.json()})).then((function(e){return e.sort((function(e,t){return e.name>t.name}))})).then((function(t){e.setState({characters:t,loading:!1})})).catch((function(t){return e.showError(t,"danger")}))}},{key:"showError",value:function(e,t){switch(console.log("Showing error ",e),this.setState({loading:!1}),e.message){case"NetworkError when attempting to fetch resource.":case"Failed to fetch":this.setState({error:"Yhteytt\xe4 palvelimeen ei saatu. Yrit\xe4 hetken kuluttua uudelleen tai ota yhteys pelinjohtoon."});break;case"JSON.parse: unexpected character at line 1 column 1 of the JSON data":this.setState({error:"Sovellus kohtasi virheen. Yrit\xe4 hetken kuluttua uudelleen tai ota yhteys pelinjohtoon."});break;default:this.setState({error:e.message||e})}var a=document.getElementById("errorMessage");switch(a.className="alert position-fixed bottom-0 start-50 translate-middle-x fade show",t){case"warning":a.classList.add("alert-warning");break;case"danger":a.classList.add("alert-danger");break;case"success":a.classList.add("alert-success")}setTimeout((function(){a.classList.remove("show")}),7e3)}},{key:"closeMenu",value:function(){if(window.screen.width<992){var e=document.getElementById("navbar");new U.a(e).hide()}}},{key:"setReady",value:function(e){e?this.setState({loading:!1}):this.setState({loading:!0})}},{key:"componentWillUnmount",value:function(){this.ws&&this.ws.close()}},{key:"render",value:function(){var e=this,t=Object(p.jsx)("li",{class:"nav-item",children:Object(p.jsx)("form",{onSubmit:function(t){return e.login(t)},class:"w-100",children:Object(p.jsxs)("div",{class:"input-group",children:[Object(p.jsx)("label",{for:"login-input",class:"visually-hidden",children:"Kirjaudu sis\xe4\xe4n"}),Object(p.jsx)("input",{id:"login-input",type:"text",value:this.state.login,onChange:this.handleChange,class:"form-control"}),Object(p.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Kirjaudu"})]})})});this.state.userId&&(t=Object(p.jsx)("li",{class:"nav-item",children:Object(p.jsx)("button",{type:"submit",onClick:this.logout,class:"btn btn-primary",children:"Kirjaudu ulos"})}));var a,s,n="";return"player"===this.state.userType&&(a=Object(p.jsx)("li",{class:"nav-item",children:Object(p.jsx)(j.b,{to:"/dashboard",onClick:function(){return e.closeMenu()},children:"Pelaajan sivut"})})),"admin"===this.state.userType&&(n=Object(p.jsx)("li",{class:"nav-item",children:Object(p.jsx)(j.b,{to:"/admin",onClick:function(){return e.closeMenu()},children:"Hallintapaneeli"})})),this.state.loading&&(s=Object(p.jsx)("div",{class:"spinner-border position-absolute top-50 start-50 loading ",role:"status",children:Object(p.jsx)("span",{class:"visually-hidden",children:"Loading..."})})),Object(p.jsxs)(j.a,{children:[Object(p.jsx)("header",{class:"navbar-container w-100",children:Object(p.jsx)("nav",{class:"navbar navbar-expand-lg main-nav container h-100",children:Object(p.jsxs)("div",{class:"container-fluid",children:[Object(p.jsx)(j.b,{class:"navbar-brand",to:"/",children:"Totentanz"}),Object(p.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbar","aria-controls":"navbar","aria-expanded":"false","aria-label":"Valikko",children:Object(p.jsx)(E.a,{})}),Object(p.jsx)("div",{class:"collapse navbar-collapse justify-content-end",id:"navbar",children:Object(p.jsxs)("ul",{class:"navbar-nav",children:[Object(p.jsx)("li",{class:"nav-item",children:Object(p.jsx)(j.b,{to:"/info",onClick:function(){return e.closeMenu()},children:"Info"})}),Object(p.jsx)("li",{class:"nav-item",children:Object(p.jsx)(j.b,{to:"/",onClick:function(){return e.closeMenu()},children:"Ilmoittaudu"})}),a,n,t]})})]})})}),s,Object(p.jsxs)("div",{class:"w-100 p-0",children:[Object(p.jsx)("div",{class:"alert alert-danger position-fixed bottom-0 start-50 translate-middle-x fade hidden",id:"errorMessage",role:"alert","aria-live":"assertive","aria-atomic":"true",children:this.state.error}),Object(p.jsxs)(u.d,{children:[Object(p.jsx)(u.b,{exact:!0,path:"/",children:Object(p.jsx)(m,{})}),Object(p.jsx)(u.b,{exact:!0,path:"/info",children:Object(p.jsx)(f,{})}),Object(p.jsx)(u.b,{exact:!0,path:"/dashboard/info",children:Object(p.jsx)(S,{character:this.state.characters.find((function(t){return t._id===e.state.userCharacter}))})}),Object(p.jsx)(u.b,{exact:!0,path:"/dashboard/pay",children:Object(p.jsx)(w,{characters:this.state.characters,character:this.state.characters.find((function(t){return t._id===e.state.userCharacter})),fetchCharacters:this.fetchCharacters,isReady:this.setReady,error:this.showError})}),Object(p.jsx)(u.b,{exact:!0,path:"/dashboard/chat",children:Object(p.jsx)(I,{characters:this.state.characters,changeChat:function(t){return e.setState({selectedChat:t})},fetchCharacters:this.fetchCharacters,loggedCharacter:this.state.userCharacter,type:this.state.userType,error:this.showError,isReady:this.setReady})}),Object(p.jsx)(u.b,{exact:!0,path:"/dashboard",children:Object(p.jsx)(_,{loggedCharacter:this.state.userCharacter,characters:this.state.characters,fetchCharacters:this.fetchCharacters,userType:this.state.userType})}),Object(p.jsx)(u.b,{exact:!0,path:"/admin/newCharacter",children:Object(p.jsx)(v,{character:this.state.selectedCharacter,players:this.state.players,fetchPlayers:this.fetchPlayers,fetchCharacters:this.fetchCharacters,clearSelectedCharacter:function(){return e.setState({selectedCharacter:e.state.defaultCharacter})},error:this.showError})}),Object(p.jsx)(u.b,{exact:!0,path:"/admin/newUser",children:Object(p.jsx)(k,{characters:this.state.characters,existingUser:this.state.players.find((function(t){return t._id===e.state.selectedUser})),clearSelectedUser:function(){return e.setState({selectedUser:""})},fetchCharacters:this.fetchCharacters,fetchPlayers:this.fetchPlayers,error:this.showError})}),Object(p.jsx)(u.b,{exact:!0,path:"/admin/messages",children:Object(p.jsx)(I,{characters:this.state.characters,fetchCharacters:this.fetchCharacters,changeChat:function(t){return e.setState({selectedChat:t})},loggedCharacter:this.state.userCharacter,type:this.state.userType,error:this.showError,isReady:this.setReady})}),Object(p.jsx)(u.b,{exact:!0,path:"/admin/transactions",children:Object(p.jsx)(N,{characters:this.state.characters,fetchCharacters:this.fetchCharacters,error:this.showError,isReady:this.setReady})}),Object(p.jsx)(u.b,{exact:!0,path:"/admin",children:Object(p.jsx)(C,{characters:this.state.characters,fetchCharacters:this.fetchCharacters,selectCharacter:function(t){return e.setState({selectedCharacter:t.target.id})},selectUser:function(t){return e.setState({selectedUser:t.target.id})},players:this.state.players,fetchPlayers:this.fetchPlayers,changeCharacter:function(t){return e.setState({selectedCharacter:t})},changeUser:function(t){return e.setState({selectedUser:t})},admin:this.state.userType,error:this.showError})}),Object(p.jsx)(u.b,{exact:!0,path:"/chat",children:Object(p.jsx)(L,{chat:this.state.selectedChat,characterId:this.state.userCharacter,name:"admin"===this.state.userType?"admin":void 0,characters:this.state.characters,error:this.showError,ws:this.ws,isReady:this.setReady,clear:function(){return e.setState({selectedChat:""})}})})]})]}),this.state.redirect,Object(p.jsxs)("div",{id:"notifToast",class:"toast position-fixed",role:"alert","aria-live":"assertive","aria-atomic":"true",children:[Object(p.jsxs)("div",{class:"toast-header",children:[Object(p.jsx)(P.a,{}),Object(p.jsx)("strong",{class:"me-auto ml-1",children:this.state.notifSender}),Object(p.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})]}),Object(p.jsx)("div",{class:"toast-body",children:this.state.notifMsg})]})]})}}]),a}(s.Component),B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,51)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),r(e),i(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(44);i.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(R,{})}),document.getElementById("root")),B(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.366f0b47.chunk.js.map